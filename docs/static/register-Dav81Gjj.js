import{_ as U,a as z,d as B,r as u,v as K,e as c,c as _,f as o,m as x,h as e,i as t,j as N,k as S,l as b,o as d,n as T,p as $,s as L,t as j,x as A,E as D}from"./index-CqU5sET7.js";const F="/nskk-travel-agency-vue/static/registerbackground-D2Ll6Ych.mp4",k=g=>(L("data-v-7719bd7c"),g=g(),j(),g),H={class:"register-container"},Y={key:0},G={key:1},J={class:"video-bg"},O=["muted"],Q=k(()=>o("source",{src:F,type:"video/mp4"},null,-1)),W={class:"register-wrapper"},X=k(()=>o("div",{class:"form-header"},[o("h3",{class:"title"},"çº³æ–¯å¡å¯æ—…è¡Œç¤¾"),o("p",{class:"subtitle"},"åˆ›å»ºæ‚¨çš„è´¦æˆ·ï¼Œå¼€å¯æ—…è¡Œä¹‹æ—…")],-1)),Z={class:"register-code"},ee=["src"],se={key:0},oe={key:1},te={style:{float:"right","margin-top":"15px"}},ae=k(()=>o("div",{class:"el-register-footer"},[o("span",null,"Copyright Â© 2018-2023 ruoyi.vip All Rights Reserved.")],-1)),le={__name:"register",setup(g){const C=z(),{proxy:q}=B(),s=u({username:"",password:"",confirmPassword:"",code:"",uuid:""}),p=u(null),i=u(!0);function E(){console.log("åˆ‡æ¢é™éŸ³çŠ¶æ€ï¼š",i.value),i.value=!i.value,p.value&&(p.value.muted=i.value)}const P={username:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥æ‚¨çš„è´¦å·"},{min:2,max:20,message:"ç”¨æˆ·è´¦å·é•¿åº¦å¿…é¡»ä»‹äº 2 å’Œ 20 ä¹‹é—´",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥æ‚¨çš„å¯†ç "},{min:5,max:20,message:"ç”¨æˆ·å¯†ç é•¿åº¦å¿…é¡»ä»‹äº 5 å’Œ 20 ä¹‹é—´",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"è¯·å†æ¬¡è¾“å…¥æ‚¨çš„å¯†ç "},{required:!0,validator:(l,a,r)=>{s.value.password!==a?r(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):r()},trigger:"blur"}],code:[{required:!0,trigger:"change",message:"è¯·è¾“å…¥éªŒè¯ç "}]},V=u(""),f=u(!1),v=u(!0);function h(){q.$refs.registerRef.validate(l=>{l&&(f.value=!0,A(s.value).then(a=>{const r=s.value.username;D.alert(`<font color='red'>æ­å–œä½ ï¼Œæ‚¨çš„è´¦å· ${r} æ³¨å†ŒæˆåŠŸï¼</font>`,"ç³»ç»Ÿæç¤º",{dangerouslyUseHTMLString:!0,type:"success"}).then(()=>{C.push("/login")}).catch(()=>{})}).catch(()=>{f.value=!1,v.value&&w()}))})}function w(){$().then(l=>{v.value=l.captchaEnabled===void 0?!0:l.captchaEnabled,v.value&&(V.value="data:image/gif;base64,"+l.img,s.value.uuid=l.uuid)})}return K(()=>{w(),p.value&&p.value.play().catch(l=>{console.log("è‡ªåŠ¨æ’­æ”¾å¤±è´¥:",l)})}),(l,a)=>{const r=c("svg-icon"),y=c("el-input"),m=c("el-form-item"),R=c("el-button"),I=c("router-link"),M=c("el-form");return d(),_("div",H,[o("button",{class:"mute-btn",onClick:E},[i.value?(d(),_("span",Y,"ğŸ”‡")):(d(),_("span",G,"ğŸ”Š"))]),o("div",J,[o("video",{ref_key:"backgroundVideo",ref:p,autoplay:"",loop:"",muted:i.value,playsinline:"",class:"bg-video"},[Q,x(" æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾ ")],8,O)]),o("div",W,[e(M,{ref:"registerRef",model:s.value,rules:P,class:"register-form"},{default:t(()=>[X,e(m,{prop:"username"},{default:t(()=>[e(y,{modelValue:s.value.username,"onUpdate:modelValue":a[0]||(a[0]=n=>s.value.username=n),type:"text",size:"large","auto-complete":"off",placeholder:"è´¦å·",class:"custom-input"},{prefix:t(()=>[e(r,{"icon-class":"user",class:"el-input__icon input-icon"})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"password"},{default:t(()=>[e(y,{modelValue:s.value.password,"onUpdate:modelValue":a[1]||(a[1]=n=>s.value.password=n),type:"password",size:"large","auto-complete":"off",placeholder:"å¯†ç ",onKeyup:b(h,["enter"]),class:"custom-input"},{prefix:t(()=>[e(r,{"icon-class":"password",class:"el-input__icon input-icon"})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"confirmPassword"},{default:t(()=>[e(y,{modelValue:s.value.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=n=>s.value.confirmPassword=n),type:"password",size:"large","auto-complete":"off",placeholder:"ç¡®è®¤å¯†ç ",onKeyup:b(h,["enter"]),class:"custom-input"},{prefix:t(()=>[e(r,{"icon-class":"password",class:"el-input__icon input-icon"})]),_:1},8,["modelValue"])]),_:1}),v.value?(d(),N(m,{key:0,prop:"code"},{default:t(()=>[e(y,{size:"large",modelValue:s.value.code,"onUpdate:modelValue":a[3]||(a[3]=n=>s.value.code=n),"auto-complete":"off",placeholder:"éªŒè¯ç ",style:{width:"63%"},onKeyup:b(h,["enter"]),class:"custom-input"},{prefix:t(()=>[e(r,{"icon-class":"validCode",class:"el-input__icon input-icon"})]),_:1},8,["modelValue"]),o("div",Z,[o("img",{src:V.value,onClick:w,class:"register-code-img"},null,8,ee)])]),_:1})):S("",!0),e(m,{style:{width:"100%"}},{default:t(()=>[e(R,{loading:f.value,size:"large",type:"primary",style:{width:"100%"},onClick:T(h,["prevent"]),class:"register-btn"},{default:t(()=>[f.value?(d(),_("span",oe,"æ³¨ å†Œ ä¸­...")):(d(),_("span",se,"æ³¨ å†Œ"))]),_:1},8,["loading"]),o("div",te,[e(I,{class:"link-type",to:"/login"},{default:t(()=>[x("ä½¿ç”¨å·²æœ‰è´¦æˆ·ç™»å½•")]),_:1})])]),_:1})]),_:1},8,["model"])]),ae])}}},ie=U(le,[["__scopeId","data-v-7719bd7c"]]);export{ie as default};
